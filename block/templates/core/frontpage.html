{% extends 'core/base.html' %}

{% load static %}

{% block title %} Home {% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-body">
        <div class="container">
            <section class="section">
                <div class="columns">
                    <div class="column is-8 is-offset-2">
                        {% if posts %}
                            {% for post in posts %}
                                <div class="content is-medium">
                                  <p><small>Category:<a href="{% url 'post_details' post.category.slug post.slug %}"> {{ post.category }} </a> </small></p>  
                                  <div class="image-container">
                                    {% if "placeholder" in post.featured_image.url %}
                                    <img class="card-img-top" src="{% static 'images/default.jpg' %}"
                                      alt="placeholder image">
                                    {% else %}
                                    <img class="card-img-top" src=" {{ post.featured_image.url }}"
                                      alt="{{ post.title }}">
                                    {% endif %}
                                    <div class="image-flash">
                                    <h2 class="subtitle is-4"> 
                                        {{ post.created_on|date:"M j, Y H:i" }}   
                                    </h2>
                                    <h1 class="title"> {{ post.title }} </h1>
                                    <p>{{ post.content|truncatewords:50 }} </p>
                                    </a>
                                </div>
                            {% endfor %}
                        {% else %}
                            <p>No posts available.</p>
                        {% endif %}
                    </div>
                </div>
            </section>
        </div>
    </div>
</section>
{% endblock content %}
 